(this.webpackJsonpbet=this.webpackJsonpbet||[]).push([[0],{115:function(e,t,n){},174:function(e,t,n){e.exports=n(332)},332:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),u=n(9),l=n(16),s=n(47),i=n(8),m=n.n(i),f=n(163),p=n(17),g=n(25),b=n.n(g),d=function(){b.a.create({baseURL:"http://176.58.105.174:3000"});var e=localStorage.getItem("BET_TOKEN_AUTH52456")||"",t=localStorage.getItem("BET_TOKEN_AUTH52459874566")||"",n=e&&JSON.parse(e)||null,a=t&&JSON.parse(t)||null,r=function(){return!!n||!!a},c=function(){return!!a},o=[],u=[];return{getToken:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),isLoggedIn:r,isLoggedInAdmin:c,setToken:function(e,t){e?t?(localStorage.setItem("BET_TOKEN_AUTH52459874566",JSON.stringify(e)),a=e):(localStorage.setItem("BET_TOKEN_AUTH52456",JSON.stringify(e)),n=e):(localStorage.removeItem("BET_TOKEN_AUTH52459874566"),localStorage.removeItem("BET_TOKEN_AUTH52456")),function(){var e=r(),t=c();t?(o.forEach((function(e){return e(t)})),u.forEach((function(e){return e(t)}))):(o.forEach((function(t){return t(e)})),u.forEach((function(e){return e(t)})))}()},subscribe:function(e){o.push(e)},subscribeAdmin:function(e){u.push(e)},unsubscribeAdmin:function(e){u=u.filter((function(t){return t!==e}))},unsubscribe:function(e){o=o.filter((function(t){return t!==e}))}}},h=function(){var e=b.a.create({baseURL:"http://176.58.105.174:3000"}),t=d();return{useAuth:function(){var e=t.isLoggedIn(),n=Object(a.useState)(e),r=Object(u.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){function e(e){o(e)}return t.subscribe(e),function(){t.unsubscribe(e)}}),[]),[c]},useAuthAdmin:function(){var e=t.isLoggedInAdmin(),n=Object(a.useState)(e),r=Object(u.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){function e(e){o(e)}return t.subscribeAdmin(e),function(){t.unsubscribeAdmin(e)}}),[]),[c]},authFetch:function(){var n=Object(p.a)(m.a.mark((function n(a,r){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getToken();case 2:return c=n.sent,n.next=5,e.get("/auth/users").then((function(e){return e.data})).catch((function(e){console.log(e.message)}));case 5:return n.sent,(r=r||{}).headers=Object(f.a)({},r.headers,{Authorization:"Bearer ".concat(c)}),n.abrupt("return",fetch(a,r));case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),login:function(e){t.setToken(e)},logout:function(){t.setToken(null)},loginAdmin:function(e){t.setToken(e,!0)}}}(),E=h.useAuth,v=h.useAuthAdmin,O=(h.authFetch,h.login),j=h.loginAdmin,w=(h.logout,n(115),n(196),n(59)),y=n(61),k=n(340),S=n(339),x=n(50),C=n(341),N=n(60),T=n(150),A=n.n(T),_=b.a.create({baseURL:"http://176.58.105.174:3000"}),B=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)((new Date).toLocaleString()),l=Object(u.a)(o,2),s=l[0],i=(l[1],Object(a.useState)(!0)),f=Object(u.a)(i,2),g=f[0],b=f[1],d=Object(a.useState)(!1),h=Object(u.a)(d,2),E=h[0],v=h[1],O=Object(a.useState)([]),j=Object(u.a)(O,2),T=j[0],B=j[1],U=Object(a.useState)([]),L=Object(u.a)(U,2),I=L[0],H=L[1],R=Object(a.useState)([]),F=Object(u.a)(R,2),J=F[0],K=F[1],M=Object(a.useState)(""),P=Object(u.a)(M,2),W=P[0],z=P[1],D=Object(a.useState)(""),V=Object(u.a)(D,2),G=V[0],$=V[1],q=Object(a.useState)(""),Q=Object(u.a)(q,2),X=Q[0],Y=Q[1],Z=Object(a.useState)(""),ee=Object(u.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(""),re=Object(u.a)(ae,2),ce=re[0],oe=re[1],ue=Object(a.useState)([]),le=Object(u.a)(ue,2),se=(le[0],le[1],Object(a.useState)([])),ie=Object(u.a)(se,2),me=ie[0],fe=ie[1],pe=Object(a.useState)(1),ge=Object(u.a)(pe,2),be=ge[0],de=ge[1],he=Object(a.useState)(0),Ee=Object(u.a)(he,2),ve=Ee[0],Oe=Ee[1];Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(m.a.mark((function e(t){var n,a,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="basket/getBets?sport=".concat(G,"&league=").concat(X,"&game=").concat(ce.replace(/\s+/g,"-"),"&bet=").concat(te,"&offset=").concat(1*(t-1),"\n        &limit=").concat(1).replace(/\s+/g,""),e.next=4,_.get(n).then((function(e){return e.data}));case 4:a=e.sent,r=a.data,o=a.total,c(r),Oe(o),we(),ye(),ke(),Se(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),v("Une erreur est survenu : ",e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(be),b(!1)}),[be]);var je=function(e){var t=e.split("T")[0].split("-").reverse().join("/");return" : ".concat(t)},we=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"basket/getSports",e.next=3,_.get("basket/getSports").then((function(e){return e.data}));case 3:t=e.sent,n=[],a=Object(w.a)(t);try{for(a.s();!(r=a.n()).done;)c=r.value,n.push({value:c,label:c})}catch(o){a.e(o)}finally{a.f()}B(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,r,c,o,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="basket/getLeagues?sport=".concat(t),e.next=3,_.get(n).then((function(e){return e.data}));case 3:a=e.sent,r=[],c=Object(w.a)(a);try{for(c.s();!(o=c.n()).done;)u=o.value,r.push({value:u,label:u})}catch(l){c.e(l)}finally{c.f()}z(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,r,c,o,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="basket/getGames?sport=".concat(G,"&league=").concat(t),e.next=3,_.get(n).then((function(e){return e.data}));case 3:a=e.sent,r=[],c=Object(w.a)(a);try{for(c.s();!(o=c.n()).done;)u=o.value,r.push({value:u,label:u})}catch(l){c.e(l)}finally{c.f()}H(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,a,r,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="basket/getBetsLibelles?sport=".concat(G,"&league=").concat(X,"&game=").concat(ce.replace(/\s+/g,"-")),e.next=3,_.get(t).then((function(e){return e.data}));case 3:n=e.sent,a=[],r=Object(w.a)(n);try{for(r.s();!(c=r.n()).done;)o=c.value,a.push({value:o,label:o})}catch(u){r.e(u)}finally{r.f()}K(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="basket/getBets?sport=&league=&game=&bet=&offset=".concat(1*(be-1),"\n    &limit=").concat(1).replace(/\s+/g,""),e.next=3,_.get(t).then((function(e){return e.data}));case 3:n=e.sent,a=n.data,r=n.total,c(a),Oe(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="basket/getBets?sport=".concat(G,"&league=").concat(X,"&game=").concat(ce.replace(/\s+/g,"-"),"&bet=").concat(te,"&offset=").concat(1*(be-1),"\n    &limit=").concat(1).replace(/\s+/g,""),de(1),e.next=4,_.get(t).then((function(e){return e.data}));case 4:n=e.sent,a=n.data,r=n.total,c(a),Oe(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=!1;return E?r.a.createElement("h2",null,E):g?r.a.createElement(A.a,{type:"ball-spin-fade-loader"}):r.a.createElement(a.Fragment,null,r.a.createElement("h1",null,"Bet Application"),r.a.createElement("div",{className:"dropdown-container"},r.a.createElement(N.a,{options:T,placeholder:r.a.createElement("div",null,"Sports"),onChange:function(e){return function(e){$(e),ye(e),fe([].concat(Object(y.a)(me),[e]))}(e.value)}}),r.a.createElement(N.a,{options:W,placeholder:r.a.createElement("div",null,"Competition"),onChange:function(e){return function(e){Y(e),ke(e),fe([].concat(Object(y.a)(me),[e]))}(e.value)}}),r.a.createElement(N.a,{options:I,placeholder:r.a.createElement("div",null,"Match"),onChange:function(e){return function(e){oe(e),fe([].concat(Object(y.a)(me),[e]))}(e.value)}}),r.a.createElement(N.a,{options:J,placeholder:r.a.createElement("div",null,"Paris"),onChange:function(e){return function(e){ne(e),fe([].concat(Object(y.a)(me),[e]))}(e.value)}}),r.a.createElement(S.a,{animated:!0,className:"primary",onClick:Ce},r.a.createElement(S.a.Content,{visible:!0},"Rechercher"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(x.a,{name:"arrow right"}))),r.a.createElement(S.a,{animated:!0,className:"red",onClick:xe},r.a.createElement(S.a.Content,{visible:!0},"Tous"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(x.a,{name:"arrow right"})))),r.a.createElement("div",{className:"dropdown-container-time"},r.a.createElement("div",null,r.a.createElement("p",null,"Date et heure de la derni\xe8re MAJ : ",s))),r.a.createElement(k.a.Row,{className:"pagination-marge"},r.a.createElement(k.a.HeaderCell,{colSpan:"4"},r.a.createElement(C.a,{totalPages:Math.ceil(ve/1),onPageChange:function(e,t){return de(t.activePage)},activePage:be}))),r.a.createElement(k.a,{celled:!0,unstackable:!0},r.a.createElement(k.a.Header,null,r.a.createElement(k.a.Row,null,r.a.createElement(k.a.HeaderCell,null,"Joueur"),r.a.createElement(k.a.HeaderCell,null,"Match"),r.a.createElement(k.a.HeaderCell,null,"Cut"),r.a.createElement(k.a.HeaderCell,null,"Cotes"))),r.a.createElement(k.a.Body,null,function(){var e=[];if(n)for(var t in n)for(var a in n[t])for(var c in Ne=!Ne,n[t][a]){var o=n[t][a][c];if(o.length>1){var u=o[0];e.push(r.a.createElement(k.a.Row,{key:u.id},r.a.createElement(k.a.Cell,{className:Ne?"blue":""},r.a.createElement("a",{href:"".concat(u.player_url),target:"_blank",rel:"noopener noreferrer",className:Ne?"white":"black"},u.player_firstname," ",u.player_name)),r.a.createElement(k.a.Cell,null,r.a.createElement("strong",null,u.homeTeamName)," VS ",u.extTeamName,je(u.date)),r.a.createElement(k.a.Cell,null,u.bet_libelle," : ",u.cut),r.a.createElement(k.a.Cell,null,o.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{key:t,className:e.isMax?"line grey":"line"},e.name," ",e.cote))})))))}else for(var l in n[t][a][c]){var s=n[t][a][c][l];e.push(r.a.createElement(k.a.Row,{key:s.id},r.a.createElement(k.a.Cell,{className:Ne?"blue":""},r.a.createElement("a",{href:"".concat(s.player_url),target:"_blank",rel:"noopener noreferrer",className:Ne?"white":"black"},s.player_firstname," ",s.player_name)),r.a.createElement(k.a.Cell,null,r.a.createElement("strong",null,s.homeTeamName)," VS ",s.extTeamName,je(s.date)),r.a.createElement(k.a.Cell,null,s.bet_libelle," : ",s.cut),r.a.createElement(k.a.Cell,null,r.a.createElement("p",{className:"line"},s.name," ",s.cote))))}}return e}())))},U=n(39),L=n(40);function I(){var e=Object(U.a)(["\n  background-color: red;\n"]);return I=function(){return e},e}function H(){var e=Object(U.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n"]);return H=function(){return e},e}function R(){var e=Object(U.a)(["\n  background: linear-gradient(to bottom, #6371c7, #5563c1);\n  border-color: #3f4eae;\n  border-radius: 3px;\n  padding: 1rem;\n  color: white;\n  font-weight: 700;\n  width: 100%;\n  margin-bottom: 1rem;\n  font-size: 0.8rem;\n"]);return R=function(){return e},e}function F(){var e=Object(U.a)(["\n  padding: 1rem;\n  border: 1px solid #999;\n  margin-bottom: 1rem;\n  font-size: 0.8rem;\n"]);return F=function(){return e},e}function J(){var e=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return J=function(){return e},e}function K(){var e=Object(U.a)(["\n  box-sizing: border-box;\n  max-width: 410px;\n  margin: 0 auto;\n  padding: 0 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return K=function(){return e},e}var M=L.a.div(K()),P=L.a.div(J()),W=L.a.input(F()),z=L.a.button(R()),D=(L.a.img(H()),L.a.div(I()),function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),l=Object(u.a)(o,2),i=l[0],f=l[1],g=b.a.create({baseURL:"http://176.58.105.174:3000"}),d=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).username=n,t.password=i,e.next=5,g.post("/auth/signin",t).then((function(e){return O(e.data.accessToken)})).catch((function(e){console.log(e.message)}));case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"login-title"},"Welcome to Bet Application"),r.a.createElement(M,{className:"mt-login"},r.a.createElement(P,null,r.a.createElement(W,{type:"name",placeholder:"name",onChange:function(e){c(e.target.value)}}),r.a.createElement(W,{type:"password",placeholder:"password",onChange:function(e){f(e.target.value)}}),r.a.createElement(z,{className:"btn-login",onClick:d},"Sign In")),r.a.createElement(s.b,{to:"/signup"},"Don't have an account?")))}),V=n(33),G=(n(331),b.a.create({baseURL:"http://176.58.105.174:3000"})),$=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),l=Object(u.a)(o,2),s=l[0],i=l[1],f=Object(a.useState)(""),g=Object(u.a)(f,2),b=g[0],d=g[1];Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("/auth/users").then((function(e){return e.data})).catch((function(e){console.log(e.message)}));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var h=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.delete("/auth/user?username=".concat(t)).then((function(e){if(!0===e.data){var a=n.filter((function(e){return e!==t}));c(a)}return V.b.success("Utilisateur supprim\xe9 !"),e.data})).catch((function(e){e.response&&e.response.data&&e.response.data.message?V.b.error(e.response.data.message):V.b.error("L'utilisateur n'a pas \xe9t\xe9 supprim\xe9 !")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).username=s,t.password=b,e.next=5,G.post("/auth/signup",t).then(function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.get("/auth/users").then((function(e){return e.data})).catch((function(e){console.log(e.message)}));case 2:n=e.sent,c(n),V.b.success("Utilisateur ajout\xe9 !");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.response&&e.response.data&&e.response.data.message?"string"===typeof e.response.data.message?V.b.error(e.response.data.message):e.response.data.message.map((function(e){V.b.error(e)})):V.b.error("L'utilisateur n'a pas \xe9t\xe9 ajout\xe9 !")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,null),r.a.createElement("h1",{className:"login-title"},"Welcome to Admin Interface"),r.a.createElement(M,null,r.a.createElement(P,null,r.a.createElement(W,{type:"name",placeholder:"name",onChange:function(e){i(e.target.value)}}),r.a.createElement(W,{type:"password",placeholder:"password",onChange:function(e){d(e.target.value)}}),r.a.createElement(S.a,{className:"btn-login",onClick:function(){return E()}},"Sign Up"))),r.a.createElement("ul",{className:"ul-mt"},n.length>0?n.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{key:t,className:"list-users"},e,r.a.createElement(S.a,{animated:!0,className:"red red-logout",onClick:function(){return h(e)}},r.a.createElement(S.a.Content,{visible:!0},"Supprimer"),r.a.createElement(S.a.Content,{hidden:!0},r.a.createElement(x.a,{name:"arrow right"})))))})):r.a.createElement("li",null,"Aucun utilisateurs")))},q=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),l=Object(u.a)(o,2),i=l[0],f=l[1],g=b.a.create({baseURL:"http://176.58.105.174:3000"}),d=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t={}).username=n,t.password=i,g.post("".concat("http://176.58.105.174:3000","/auth/signinadmin"),t).then((function(e){return j(e.data.accessToken)})).catch((function(e){console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"login-title"},"Welcome to Bet Application"),r.a.createElement(M,{className:"mt-login"},r.a.createElement(P,null,r.a.createElement(W,{type:"name",placeholder:"name",onChange:function(e){c(e.target.value)}}),r.a.createElement(W,{type:"password",placeholder:"password",onChange:function(e){f(e.target.value)}}),r.a.createElement(z,{className:"btn-login",onClick:d},"Sign In")),r.a.createElement(s.b,{to:"/signup"},"Don't have an account?")))},Q=function(e){var t=e.logged,n=e.type,a=e.origin;if("private"===n&&!t){if("/bet"===a)return r.a.createElement(l.a,{to:"/login"});if("/admin1263"===a)return r.a.createElement(l.a,{to:"/loginadmin"})}if(t){if("/login"===a)return r.a.createElement(l.a,{to:"/bet"});if("/loginadmin"===a)return r.a.createElement(l.a,{to:"/admin1263"})}return r.a.createElement(l.b,e)},X=function(){var e=E(),t=Object(u.a)(e,1)[0],n=v(),a=Object(u.a)(n,1)[0];return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(l.d,null,r.a.createElement(Q,{path:"/bet",origin:"/bet",type:"private",logged:t},r.a.createElement(B,null)),r.a.createElement(Q,{path:"/login",origin:"/login",type:"guest",logged:t},r.a.createElement(D,null)),r.a.createElement(Q,{path:"/admin1263",origin:"/admin1263",type:"private",logged:a},r.a.createElement($,null)),r.a.createElement(Q,{path:"/loginadmin",origin:"/loginadmin",type:"guest",logged:a},r.a.createElement(q,null)),r.a.createElement(l.b,{render:function(){return r.a.createElement(l.a,{to:"/login"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[174,1,2]]]);
//# sourceMappingURL=main.6c1f30ff.chunk.js.map